# Docker Environment Configuration for Kontexted
#
# Copy this file to .env and customize for your deployment
# cp .env.docker.example .env
#
# Or use environment variables inline:
# BETTER_AUTH_URL=https://mydomain.com docker-compose up

# ===================================================================
# Public URL Configuration
# ===================================================================

# The public URL where the application is accessible
# For local development: http://localhost:3000
# For custom domain: https://your-domain.com
# For reverse proxy: https://public-domain.com
BETTER_AUTH_URL=http://localhost:3000

# Comma-separated list of allowed origins for CORS
# Should include BETTER_AUTH_URL and any other allowed domains
# Examples:
#   Single origin: http://localhost:3000
#   Multiple origins: https://mydomain.com,https://myapp.com
BETTER_AUTH_TRUSTED_ORIGINS=http://localhost:3000

# ===================================================================
# Authentication Configuration
# ===================================================================

# Secret key for Better Auth (REQUIRED in production)
# Generate a secure random string: openssl rand -base64 32
BETTER_AUTH_SECRET=your-secret-key-change-me

# Invite code for user sign-up (REQUIRED to enable sign-up)
# Leave empty to disable public sign-up
# Examples: my-secret-code, TEAM-2024, prod-invite-123
INVITE_CODE=

# ===================================================================
# Server Configuration
# ===================================================================

# Port to listen on inside the container
# Must match the right side of the port mapping in docker-compose.yml
# docker-compose.yml maps "3000:3000" -> host:container
PORT=3000

# Host to bind to inside the container
# 0.0.0.0 means listen on all interfaces (required for Docker)
# Do not change this unless you know what you're doing
HOST=0.0.0.0

# ===================================================================
# Database Configuration
# ===================================================================

# Database type: sqlite (default) or postgresql
# SQLite is recommended for most deployments
DATABASE_DIALECT=sqlite

# Database file path (for SQLite)
# Relative to /app/data in the container
# The ./data directory is mounted as a Docker volume
DATABASE_URL=./data/kontexted.db

# ===================================================================
# Collaboration Configuration
# ===================================================================

# Secret for collaboration token signing (REQUIRED)
# Generate a secure random string: openssl rand -base64 32
COLLAB_TOKEN_SECRET=your-collab-secret-change-me

# ===================================================================
# Node Configuration
# ===================================================================

# Node environment
# production: optimized builds, error handling, etc.
# development: debug logging, hot reloading (not recommended in Docker)
NODE_ENV=production

# ===================================================================
# Advanced Configuration (Optional)
# ===================================================================

# Authentication method: email-password (default) or keycloak
# Uncomment and set to "keycloak" to use Keycloak OAuth
# AUTH_METHOD=keycloak
# AUTH_KEYCLOAK_ID=kontexted-webapp
# AUTH_KEYCLOAK_SECRET=your-keycloak-secret
# AUTH_KEYCLOAK_ISSUER=http://keycloak:8080/realms/kontexted

# Logging level: debug, info, warn, error
# LOG_LEVEL=info